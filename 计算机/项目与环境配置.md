# 一、react+vite+ts-swc+antd

### 1. 项目初始化

- `pnpm create vite`

- `git branch -m main master `

- `npx husky install`

- `npx husky add .husky/pre-commit  'npx lint-staged'`

- `pnpm i lint-staged -D`

- ```json
   "lint-staged": {
      "*.{js,jsx,vue}": [
        "prettier --config .prettierrc.cjs --write",
        "eslint --fix"
      ],
      "**/*.{less,css}": [
        "prettier --config .prettierrc.cjs --write"
      ]
    },
  ```

- 创建`.prettierrc.cjs`  内容如下

  - ```js
    module.exports = {
      // 每行最大列，超过换行
      printWidth: 120,
      // 使用制表符而不是空格缩进
      useTabs: false,
      // 缩进
      tabWidth: 2,
      // 结尾不用分号
      semi: false,
      // 使用单引号
      singleQuote: true,
      // 在JSX中使用单引号而不是双引号
      jsxSingleQuote: true,
      // 箭头函数里面，如果是一个参数的时候，去掉括号
      arrowParens: 'avoid',
      // 对象、数组括号与文字间添加空格
      bracketSpacing: true,
      // 尾随逗号
      trailingComma: 'none',
    }
    ```

- 自动格式化

  1. 安装 `Prettier - Code formatter`插件

  2. 创建`.vscode`文件夹

     - 创建`settings.json`文件

       - ```json
         {
         	"editor.defaultFormatter": "esbenp.prettier-vscode",
         	"editor.formatOnSave": true,
         	"prettier.configPath": ".prettierrc.cjs",
         	"editor.codeActionsOnSave": {
         		"source.fixAll": true
         	}
         }
         ```

  3. 也可以通过` command+shift+p`搜索`format`选择`prettier插件`来手动格式化

- 创建项目的时候会自动生成`.eslintrc`文件，只需要在`tsconfig.json`文件的`env`对象中加上`node:true`即可

  - `.eslintrc`文件中可以在`rules`里面添加

    ```js
    		'react/react-in-jsx-scope': 'off',
    		'no-console': 'error', // 禁止使用console
    		'no-unused-vars': 'error', // 禁止定义未使用的变量
    		'no-debugger': 'error', // 禁止使用debugger
    		'no-var': 'error' // 要求使用 let 或 const 而不是 var
    ```

    

- 